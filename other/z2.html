<html>
	;
	<style>
		body {
			overflow: hidden;
			margin: 0;
		}

		svg {
			max-width: 100vw;
			max-height: 100vh;
			width: 100%;
		}</style>
	;

	<body onkeydown="handleKeyPress(event)" onclick="handleClick(event)">
		;
		<div style="height: 100%" id="svg-content-8bit-eto">
			;
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
				;
				<style>
					img {
						width: 100%;
						height: 100%;
						image-rendering: optimizeSpeed;
						image-rendering: -moz-crisp-edges;
						image-rendering: -o-crisp-edges;
						image-rendering: -webkit-optimize-contrast;
						image-rendering: optimize-contrast;
						image-rendering: crisp-edges;
						image-rendering: pixelated;
						-ms-interpolation-mode: nearest-neighbor;
					}
				</style>
				;
				<g id="Background">
					;
					<defs>
						;
						<linearGradient id="bg-gradient-28" x1="0" y1="0" x2="0" y2="1">
							;
							<stop offset="0.0000%" stop-color="#7a324cff" />
							;
							<stop offset="4.1662%" stop-color="#7a324cff" />
							;
							<stop offset="4.1667%" stop-color="#7a324cff" />
							;
							<stop offset="8.3325%" stop-color="#7a324cff" />
							;
							<stop offset="8.3333%" stop-color="#803851ff" />
							;
							<stop offset="12.4987%" stop-color="#803851ff" />
							;
							<stop offset="12.5000%" stop-color="#803851ff" />
							;
							<stop offset="16.6650%" stop-color="#803851ff" />
							;
							<stop offset="16.6666%" stop-color="#883f5aff" />
							;
							<stop offset="20.8312%" stop-color="#883f5aff" />
							;
							<stop offset="20.8333%" stop-color="#883f5aff" />
							;
							<stop offset="24.9975%" stop-color="#883f5aff" />
							;
							<stop offset="24.0000%" stop-color="#904561ff" />
							;
							<stop offset="29.1637%" stop-color="#904561ff" />
							;
							<stop offset="29.1666%" stop-color="#904561ff" />
							;
							<stop offset="33.3299%" stop-color="#904561ff" />
							;
							<stop offset="33.3333%" stop-color="#9a4e6aff" />
							;
							<stop offset="37.4962%" stop-color="#9a4e6aff" />
							;
							<stop offset="37.4999%" stop-color="#9a4e6aff" />
							;
							<stop offset="41.6624%" stop-color="#9a4e6aff" />
							;
							<stop offset="41.6666%" stop-color="#a35673ff" />
							;
							<stop offset="45.8287%" stop-color="#a35673ff" />
							;
							<stop offset="45.8333%" stop-color="#a35673ff" />
							;
							<stop offset="49.9949%" stop-color="#a35673ff" />
							;
							<stop offset="49.9999%" stop-color="#ad5f7dff" />
							;
							<stop offset="54.1612%" stop-color="#ad5f7dff" />
							;
							<stop offset="54.1666%" stop-color="#ad5f7dff" />
							;
							<stop offset="58.3274%" stop-color="#ad5f7dff" />
							;
							<stop offset="58.3332%" stop-color="#b56685ff" />
							;
							<stop offset="62.4937%" stop-color="#b56685ff" />
							;
							<stop offset="62.4999%" stop-color="#b56685ff" />
							;
							<stop offset="66.6599%" stop-color="#b56685ff" />
							;
							<stop offset="66.6666%" stop-color="#b96e8cff" />
							;
							<stop offset="70.8261%" stop-color="#b96e8cff" />
							;
							<stop offset="70.8332%" stop-color="#b96e8cff" />
							;
							<stop offset="74.9924%" stop-color="#b96e8cff" />
							;
							<stop offset="74.9999%" stop-color="#bb7491ff" />
							;
							<stop offset="79.1586%" stop-color="#bb7491ff" />
							;
							<stop offset="79.1665%" stop-color="#bb7491ff" />
							;
							<stop offset="83.3249%" stop-color="#bb7491ff" />
							;
							<stop offset="83.3332%" stop-color="#be7d99ff" />
							;
							<stop offset="87.4911%" stop-color="#be7d99ff" />
							;
							<stop offset="87.4999%" stop-color="#be7d99ff" />
							;
							<stop offset="91.6574%" stop-color="#be7d99ff" />
							;
							<stop offset="91.6665%" stop-color="#c1839fff" />
							;
							<stop offset="95.8236%" stop-color="#c1839fff" />
							;
							<stop offset="95.8332%" stop-color="#c1839fff" />
							;
							<stop offset="99.9898%" stop-color="#c1839fff" />
							;
						</linearGradient>
						;
					</defs>
					;
					<rect x="0" y="0" width="24" height="24" fill="url(#bg-gradient-28)" />
					;
				</g>
				;
				<g id="GeneratedImage">
					;<foreignObject width="24" height="24"
						>;<img
							xmlns="http://www.w3.org/1999/xhtml"
							src="data:image/png;base64,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"
							width="100%"
							height="100%"
							>;</img
						>;</foreignObject
					>;
				</g>
				;</svg
			>;
		</div>
		;

		<script>
			const colors = [
				["#3d4254ff"],
				["#8e95b3ff"],
				["#7b7e8dff"],
				["#6d738dff"],
				["#0001cbff"],
				["#00cc00ff"],
				["#cc0000ff"],
				["#00cbcbff"],
				["#e6dc00ff"],
				["#171717ff"],
				["#553e3eff"],
				["#a88989ff"],
				["#877777ff"],
				["#876a6aff"],
				["#3b3b3cff"],
				["#8e8e91ff"],
				["#626264ff"],
				["#985c73ff"],
				["#764558ff"],
				["#987884ff"],
				["#c7869fff"],
				["#242d2dff", "#2c3435ff", "#394041ff", "#444b4bff", "#505656ff", "#5d6363ff", "#686e6eff", "#747a7aff", "#808685ff", "#8b8f90ff", "#989c9cff", "#a5a8a8ff"],
				["#a5a8a8ff", "#989c9cff", "#8b8f90ff", "#808685ff", "#747a7aff", "#686e6eff", "#5d6363ff", "#505656ff", "#444b4bff", "#394041ff", "#2c3435ff", "#242d2dff"],
				["#f6bf8dff", "#efb178ff", "#efa561ff", "#d3755cff", "#bc5464ff", "#9a3661ff", "#8a3259ff", "#782d50ff", "#662847ff", "#53233eff", "#451f38ff", "#341a2fff"],
				["#1f3736ff", "#22383aff", "#25393eff", "#2a3b44ff", "#2d3c49ff", "#313e4eff", "#353f53ff", "#384057ff", "#3c425cff", "#404362ff", "#444567ff", "#47486cff"],
				["#47486cff", "#444567ff", "#404362ff", "#3c425cff", "#384057ff", "#353f53ff", "#313e4eff", "#2d3c49ff", "#2a3b44ff", "#25393eff", "#22383aff", "#1f3736ff"],
				["#7e2a22ff", "#923128ff", "#a7382dff", "#c24135ff", "#c94b4fff", "#c55471ff", "#c15c8eff", "#bd66b2ff", "#ba6fd2ff", "#b579f5ff", "#ab86f3ff", "#b792ffff"],
				["#b792ffff", "#ab86f3ff", "#b579f5ff", "#ba6fd2ff", "#bd66b2ff", "#c15c8eff", "#c55471ff", "#c94b4fff", "#c24135ff", "#a7382dff", "#923128ff", "#7e2a22ff"],
				["#7a324cff", "#803851ff", "#883f5aff", "#904561ff", "#9a4e6aff", "#a35673ff", "#ad5f7dff", "#b56685ff", "#b96e8cff", "#bb7491ff", "#be7d99ff", "#c1839fff"],
				["#c1839fff", "#be7d99ff", "#bb7491ff", "#b96e8cff", "#b56685ff", "#ad5f7dff", "#a35673ff", "#9a4e6aff", "#904561ff", "#883f5aff", "#803851ff", "#7a324cff"],
				["#1e1424ff", "#261628ff", "#2e182cff", "#381b31ff", "#421e36ff", "#4c213aff", "#55233fff", "#5f2644ff", "#682948ff", "#732c4dff", "#7c2e52ff", "#89315aff"],
				["#89315aff", "#7c2e52ff", "#732c4dff", "#682948ff", "#5f2644ff", "#55233fff", "#4c213aff", "#421e36ff", "#381b31ff", "#2e182cff", "#261628ff", "#1e1424ff"],
				["#47eebfff", "#41dcb1ff", "#3dcfa6ff", "#39bf9aff", "#35b390ff", "#31a585ff", "#2e9b7dff", "#298b6fff", "#267e66ff", "#216f59ff", "#1e6652ff", "#1a5948ff"],
				["#1a5948ff", "#1e6652ff", "#216f59ff", "#267e66ff", "#298b6fff", "#2e9b7dff", "#31a585ff", "#35b390ff", "#39bf9aff", "#3dcfa6ff", "#41dcb1ff", "#47eebfff"],
				["#181818ff", "#1f1f1fff", "#2c2c2cff", "#383838ff", "#444444ff", "#525252ff", "#5e5e5eff", "#6b6b6bff", "#787878ff", "#838383ff", "#919191ff", "#9f9f9fff"],
				["#9f9f9fff", "#919191ff", "#838383ff", "#787878ff", "#6b6b6bff", "#5e5e5eff", "#525252ff", "#444444ff", "#383838ff", "#2c2c2cff", "#1f1f1fff", "#181818ff"],
				["#b67ed8ff", "#a66bc9ff", "#c14bb2ff", "#d61c96ff", "#d2017cff", "#b9038dff", "#940592ff", "#5b099cff", "#350ca3ff", "#190a86ff", "#1c076aff", "#1d044eff"],
				["#536f86ff", "#4d6a7eff", "#496776ff", "#44636fff", "#406069ff", "#3c5d61ff", "#395a5cff", "#345654ff", "#30534eff", "#2b4f46ff", "#284d41ff", "#244a3bff"],
				["#244a3bff", "#284d41ff", "#2b4f46ff", "#30534eff", "#345654ff", "#395a5cff", "#3c5d61ff", "#406069ff", "#44636fff", "#496776ff", "#4d6a7eff", "#536f86ff"],
				["#211a44ff", "#2a254bff", "#373256ff", "#423d5fff", "#4e4969ff", "#5b5774ff", "#67637eff", "#736f89ff", "#7f7c93ff", "#8a869dff", "#9794a8ff", "#a4a1b3ff"],
				["#a4a1b3ff", "#9794a8ff", "#8a869dff", "#7f7c93ff", "#736f89ff", "#67637eff", "#5b5774ff", "#4e4969ff", "#423d5fff", "#373256ff", "#2a254bff", "#211a44ff"],
				["#2a254bff", "#302b53ff", "#35315aff", "#3e3966ff", "#45406fff", "#4d4779ff", "#524d80ff", "#5a558bff", "#615b94ff", "#69639fff", "#716aa8ff", "#7b73b6ff"],
				["#7b73b6ff", "#716aa8ff", "#69639fff", "#615b94ff", "#5a558bff", "#524d80ff", "#4d4779ff", "#45406fff", "#3e3966ff", "#35315aff", "#302b53ff", "#2a254bff"],
				["#edebafff", "#e4e2a8ff", "#d4d29dff", "#c0bf8eff", "#b3b184ff", "#a09e76ff", "#93926dff", "#807f5eff", "#717054ff", "#5e5d45ff", "#53523dff", "#474734ff"],
				["#474734ff", "#53523dff", "#5e5d45ff", "#717054ff", "#807f5eff", "#93926dff", "#a09e76ff", "#b3b184ff", "#c0bf8eff", "#d4d29dff", "#e4e2a8ff", "#edebafff"],
				["#202828ff", "#242d2dff", "#293434ff", "#2e3a3aff", "#354242ff", "#3b4a4aff", "#415252ff", "#465959ff", "#4d6161ff", "#526868ff", "#597171ff", "#5f7878ff"],
				["#5f7878ff", "#597171ff", "#526868ff", "#4d6161ff", "#465959ff", "#415252ff", "#3b4a4aff", "#354242ff", "#2e3a3aff", "#293434ff", "#242d2dff", "#202828ff"],
				["#6d5affff", "#6956f5ff", "#6250e4ff", "#5949cfff", "#5244c0ff", "#4a3dadff", "#4438a0ff", "#3b318bff", "#352b7bff", "#2c2466ff", "#27205aff", "#1f1a4aff"],
				["#1f1a4aff", "#27205aff", "#2c2466ff", "#352b7bff", "#3b318bff", "#4438a0ff", "#4a3dadff", "#5244c0ff", "#5949cfff", "#6250e4ff", "#6956f5ff", "#6d5affff"],
				["#702bc3ff"],
				["#526a77ff"],
				["#97bfd6ff"],
				["#9babb5ff"],
				["#7ca0b5ff"],
				["#b2c32bff"],
				["#2bc359ff"],
				["#3b4633ff"],
				["#7f966eff"],
				["#6e7867ff"],
				["#647855ff"],
				["#f1ebdaff"],
				["#2b7fc3ff"],
				["#bae1ffff"],
				["#baffc9ff"],
				["#ffdfbaff"],
				["#ffb3baff"],
				["#ffffbaff"],
				["#bd2bc3ff"],
				["#c32b2bff"],
				["#273f99ff"],
				["#6379e3ff"],
				["#9fa7cfff"],
				["#4257baff"],
				["#494438ff"],
				["#afa588ff"],
				["#7f7b71ff"],
				["#7f7863ff"],
				["#5b4474ff"],
				["#9c62dbff"],
				["#9278aeff"],
				["#887a97ff"],
				["#7c6397ff"],
				["#864239ff"],
				["#b86c62ff"],
				["#9a706aff"],
				["#9a554cff"],
				["#58a6a6ff"],
				["#334646ff"],
				["#5f7d7dff"],
				["#596464ff"],
				["#4c6464ff"],
				["#c4be8eff"],
				["#d5c655ff"],
				["#774c42ff"],
				["#977e78ff"],
				["#976457ff"],
				["#c3662bff"],
				["#ba4242ff"],
				["#8d80abff"],
				["#6c6186ff"],
				["#9c96abff"],
				["#ae9fd1ff"],
				["#efeeeaff"],
			];

			const svgElement = document.getElementById("svg-content-8bit-eto").getElementsByTagName("svg")[0];

			let colorIndex = getCurrentBackgroundId();

			function postToParent() {
				// post message to parent window Iframe
				if (window && window.parent) {
					//console.log("posting to parent", colorIndex);
					window.parent.postMessage(
						{
							type: "current-background",
							backgroundIndex: colorIndex + "/" + (colors.length - 1),
							iframeId: window.frameElement?.id || "unknown",
						},
						"*",
					);
				}
			}

			postToParent();

			// // post to parent with 200 ms delay
			// setTimeout(() =>; {
			//     postToParent();
			// }, 200);

			function getCurrentBackgroundId() {
				const backgroundGroup = svgElement.getElementById("Background");
				if (!backgroundGroup) return 0;
				const linearGradient = backgroundGroup.getElementsByTagName("linearGradient")[0];
				if (!linearGradient) return 0;
				return parseInt(linearGradient.getAttribute("id").split("-")[2]) || 0;
			}

			function cycleBackground(next = true) {
				const backgroundGroup = svgElement.getElementById("Background");

				if (!backgroundGroup) {
					return;
				}

				// remove all eleements from backgroundGroup
				while (backgroundGroup.firstChild) {
					backgroundGroup.removeChild(backgroundGroup.firstChild);
				}

				if (next) {
					colorIndex = (colorIndex + 1) % colors.length;
				} else {
					colorIndex = (colorIndex - 1 + colors.length) % colors.length;
				}

				const bcolors = colors[colorIndex];

				let height = 24 / bcolors.length;

				// Create a linear gradient for the background
				const defs = document.createElementNS("http://www.w3.org/2000/svg", "defs");
				const linearGradient = document.createElementNS("http://www.w3.org/2000/svg", "linearGradient");
				const gradientId = "bg-gradient-" + colorIndex;

				linearGradient.setAttribute("id", gradientId);
				linearGradient.setAttribute("x1", "0");
				linearGradient.setAttribute("y1", "0");
				linearGradient.setAttribute("x2", "0");
				linearGradient.setAttribute("y2", "1");

				// Add gradient stops for each color
				for (let c = 0; c < bcolors.length; c++) {
					const stop = document.createElementNS("http://www.w3.org/2000/svg", "stop");
					const nextStop = document.createElementNS("http://www.w3.org/2000/svg", "stop");

					// Calculate start and end positions for this segment
					const segmentSize = 100 / bcolors.length;
					const startPosition = c * segmentSize;
					const endPosition = (c + 1) * segmentSize;

					// Add a stop at the beginning of this segment
					stop.setAttribute("offset", `${startPosition}%`);
					stop.setAttribute("stop-color", bcolors[c]);
					linearGradient.appendChild(stop);

					// If not the last color, add another stop at the end of this segment with the same color
					// This creates the discrete effect by preventing color blending
					if (c < bcolors.length - 1) {
						nextStop.setAttribute("offset", `${endPosition - 0.001}%`);
						nextStop.setAttribute("stop-color", bcolors[c]);
						linearGradient.appendChild(nextStop);

						// Add a stop for the next color at the exact same position
						const nextColorStop = document.createElementNS("http://www.w3.org/2000/svg", "stop");
						nextColorStop.setAttribute("offset", `${endPosition}%`);
						nextColorStop.setAttribute("stop-color", bcolors[c + 1]);
						linearGradient.appendChild(nextColorStop);
					}
				}

				defs.appendChild(linearGradient);
				backgroundGroup.appendChild(defs);

				// Create a single rect with the gradient
				const rect = document.createElementNS("http://www.w3.org/2000/svg", "rect");
				rect.setAttribute("x", "0");
				rect.setAttribute("y", "0");
				rect.setAttribute("width", "24");
				rect.setAttribute("height", "24");
				rect.setAttribute("fill", `url(#${gradientId})`);

				backgroundGroup.appendChild(rect);

				postToParent();
			}

			function handleClick(event) {
				cycleBackground();
			}

			function handleKeyPress(event) {
				if (event.key in [" ", "Enter", "ArrowRight", "ArrowDown", "+", "="]) {
					cycleBackground(true);
				}
				if (event.key in ["Backspace", "ArrowLeft", "ArrowUp", "-", "_", "b"]) {
					cycleBackground(false);
				}
			}

			// on message from parent window Iframe
			window.addEventListener("message", function (event) {
				if (event.data.type === "background-next") {
					cycleBackground(true);
				}
				if (event.data.type === "background-prev") {
					cycleBackground(false);
				}
			});
		</script>
		;
	</body>
	;
</html>
;
